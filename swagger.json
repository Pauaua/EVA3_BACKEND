{
  "openapi": "3.0.0",
  "info": {
    "title": "API Antigüedades Sthandier",
    "version": "1.0.0",
    "description": "Documentación para el CRUD de productos, reservas y usuarios"
  },
  "servers": [
    {
      "url": "http://localhost:3000/api"
    }
  ],
  "components": {
    "securitySchemes": {
      "bearerAuth": {
        "type": "http",
        "scheme": "bearer",
        "bearerFormat": "JWT"
      }
    },
    "schemas": {
      "Producto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "example": 1
          },
          "nombre": {
            "type": "string",
            "example": "Espejo Vintage"
          },
          "descripcion": {
            "type": "string",
            "example": "Espejo antiguo tallado a mano"
          },
          "precio": {
            "type": "number",
            "example": 25000.5,
            "format": "float"
          },
          "cantidad": {
            "type": "integer",
            "example": 5
          },
          "estado_reserva": {
            "type": "string",
            "enum": [
              "disponible",
              "reservado",
              "agotado"
            ],
            "example": "disponible"
          },
          "fecha_creacion": {
            "type": "string",
            "format": "date-time",
            "example": "2023-11-20T12:00:00Z"
          }
        }
      },
      "EntradaBlog": {
        "type": "object",
        "required": [
          "titulo",
          "resumen",
          "creado_por",
          "cuerpo_texto"
        ],
        "properties": {
          "id": {
            "type": "integer",
            "example": 1
          },
          "titulo": {
            "type": "string",
            "example": "Historia de las antigüedades"
          },
          "resumen": {
            "type": "string",
            "example": "Un recorrido por las antigüedades más valiosas"
          },
          "creado_por": {
            "type": "integer",
            "example": 3
          },
          "cuerpo_texto": {
            "type": "string",
            "example": "Contenido completo del artículo..."
          },
          "referencia": {
            "type": "string",
            "example": "https://ejemplo.com/fuente"
          },
          "fecha_publicacion": {
            "type": "string",
            "format": "date-time",
            "example": "2023-11-25T10:30:00Z"
          },
          "estado": {
            "type": "integer",
            "enum": [
              0,
              1
            ],
            "description": "0 = Inactivo, 1 = Activo",
            "example": 1
          }
        }
      },
      "Envio": {
        "type": "object",
        "required": [
          "reserva_id",
          "estado",
          "direccion"
        ],
        "properties": {
          "id": {
            "type": "integer",
            "example": 1
          },
          "reserva_id": {
            "type": "integer",
            "example": 5
          },
          "fecha_despacho": {
            "type": "string",
            "format": "date",
            "example": "2023-11-28"
          },
          "estado": {
            "type": "string",
            "enum": [
              "pendiente",
              "en_transito",
              "entregado",
              "cancelado"
            ],
            "example": "pendiente"
          },
          "direccion": {
            "type": "string",
            "example": "Av. Principal 123, Santiago"
          }
        }
      },
      "Pago": {
        "type": "object",
        "required": [
          "usuario_id",
          "reserva_id",
          "monto",
          "metodo_pago"
        ],
        "properties": {
          "id": {
            "type": "integer",
            "example": 1
          },
          "usuario_id": {
            "type": "integer",
            "example": 5
          },
          "reserva_id": {
            "type": "integer",
            "example": 10
          },
          "monto": {
            "type": "number",
            "format": "float",
            "example": 25000.5
          },
          "fecha_pago": {
            "type": "string",
            "format": "date-time",
            "example": "2023-11-25T14:30:00Z"
          },
          "metodo_pago": {
            "type": "string",
            "enum": [
              "transferencia",
              "efectivo",
              "tarjeta",
              "otro"
            ],
            "example": "transferencia"
          },
          "comprobante": {
            "type": "string",
            "example": "TRF-123456"
          }
        }
      },
      "Reserva": {
        "type": "object",
        "required": [
          "usuario_id",
          "producto_id",
          "cantidad"
        ],
        "properties": {
          "id": {
            "type": "integer",
            "example": 1
          },
          "usuario_id": {
            "type": "integer",
            "example": 5
          },
          "producto_id": {
            "type": "integer",
            "example": 10
          },
          "fecha_reserva": {
            "type": "string",
            "format": "date-time",
            "example": "2023-11-25T14:30:00Z"
          },
          "cantidad": {
            "type": "integer",
            "minimum": 1,
            "example": 2
          },
          "estado": {
            "type": "string",
            "enum": [
              "pendiente",
              "confirmada",
              "cancelada",
              "completada"
            ],
            "example": "pendiente"
          }
        }
      },
      "Usuario": {
        "type": "object",
        "required": [
          "nombre",
          "apellido",
          "email",
          "contraseña",
          "rol"
        ],
        "properties": {
          "id": {
            "type": "integer",
            "example": 1
          },
          "nombre": {
            "type": "string",
            "example": "Juan"
          },
          "apellido": {
            "type": "string",
            "example": "Pérez"
          },
          "email": {
            "type": "string",
            "format": "email",
            "example": "juan@example.com"
          },
          "contraseña": {
            "type": "string",
            "format": "password",
            "example": "password123"
          },
          "rol": {
            "type": "string",
            "enum": [
              "admin",
              "cliente",
              "empleado"
            ],
            "example": "cliente"
          },
          "telefono": {
            "type": "string",
            "example": "+56912345678"
          },
          "direccion": {
            "type": "string",
            "example": "Av. Principal 123"
          },
          "estado": {
            "type": "string",
            "enum": [
              "Activo",
              "Inactivo"
            ],
            "example": "Activo"
          }
        }
      }
    }
  },
  "paths": {
    "/api/blog": {
      "get": {
        "summary": "Obtener todas las entradas del blog",
        "tags": [
          "Blog"
        ],
        "responses": {
          "200": {
            "description": "Lista de entradas del blog",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/EntradaBlog"
                  }
                }
              }
            }
          },
          "404": {
            "description": "No se encontraron entradas"
          }
        }
      },
      "post": {
        "summary": "Crear una nueva entrada del blog",
        "tags": [
          "Blog"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/EntradaBlog"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Entrada creada",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "insertId": {
                      "type": "integer",
                      "example": 5
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Datos inválidos"
          },
          "401": {
            "description": "No autorizado"
          }
        }
      }
    },
    "/api/blog/{id}": {
      "get": {
        "summary": "Obtener una entrada del blog por ID",
        "tags": [
          "Blog"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "integer"
            },
            "required": true,
            "description": "ID de la entrada del blog"
          }
        ],
        "responses": {
          "200": {
            "description": "Entrada encontrada",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EntradaBlog"
                }
              }
            }
          },
          "404": {
            "description": "Entrada no encontrada"
          }
        }
      },
      "put": {
        "summary": "Actualizar una entrada del blog",
        "tags": [
          "Blog"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "integer"
            },
            "required": true,
            "description": "ID de la entrada a actualizar"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/EntradaBlog"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Entrada actualizada",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Entrada actualizada exitosamente."
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Datos inválidos"
          },
          "401": {
            "description": "No autorizado"
          },
          "404": {
            "description": "Entrada no encontrada"
          }
        }
      },
      "delete": {
        "summary": "Eliminar una entrada del blog",
        "tags": [
          "Blog"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "integer"
            },
            "required": true,
            "description": "ID de la entrada a eliminar"
          }
        ],
        "responses": {
          "200": {
            "description": "Entrada eliminada",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Entrada eliminada exitosamente."
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "No autorizado"
          },
          "404": {
            "description": "Entrada no encontrada"
          }
        }
      }
    },
    "/api/blog/desactivar": {
      "post": {
        "summary": "Desactivar una entrada del blog (por ID o título)",
        "tags": [
          "Blog"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "integer",
                    "required": false,
                    "example": 5
                  },
                  "titulo": {
                    "type": "string",
                    "required": false,
                    "example": "Historia de las antigüedades"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Entrada desactivada",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Entrada desactivada exitosamente."
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Se debe proporcionar ID o título"
          },
          "401": {
            "description": "No autorizado"
          },
          "404": {
            "description": "Entrada no encontrada"
          }
        }
      }
    },
    "/api/envios": {
      "get": {
        "summary": "Obtener todos los envíos",
        "tags": [
          "Envíos"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Lista de envíos",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Envio"
                  }
                }
              }
            }
          },
          "401": {
            "description": "No autorizado"
          },
          "404": {
            "description": "No se encontraron envíos"
          }
        }
      },
      "post": {
        "summary": "Crear un nuevo envío",
        "tags": [
          "Envíos"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Envio"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Envío creado",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "insertId": {
                      "type": "integer",
                      "example": 15
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Datos inválidos"
          },
          "401": {
            "description": "No autorizado"
          }
        }
      }
    },
    "/api/envios/{id}": {
      "get": {
        "summary": "Obtener un envío por ID",
        "tags": [
          "Envíos"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "integer"
            },
            "required": true,
            "description": "ID del envío"
          }
        ],
        "responses": {
          "200": {
            "description": "Envío encontrado",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Envio"
                }
              }
            }
          },
          "401": {
            "description": "No autorizado"
          },
          "404": {
            "description": "Envío no encontrado"
          }
        }
      },
      "put": {
        "summary": "Actualizar un envío",
        "tags": [
          "Envíos"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "integer"
            },
            "required": true,
            "description": "ID del envío a actualizar"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Envio"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Envío actualizado",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Envío actualizado exitosamente."
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Datos inválidos"
          },
          "401": {
            "description": "No autorizado"
          },
          "404": {
            "description": "Envío no encontrado"
          }
        }
      },
      "delete": {
        "summary": "Eliminar un envío",
        "tags": [
          "Envíos"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "integer"
            },
            "required": true,
            "description": "ID del envío a eliminar"
          }
        ],
        "responses": {
          "200": {
            "description": "Envío eliminado",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Envío eliminado exitosamente."
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "No autorizado"
          },
          "404": {
            "description": "Envío no encontrado"
          }
        }
      }
    },
    "/api/pagos": {
      "get": {
        "summary": "Obtener todos los pagos",
        "tags": [
          "Pagos"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Lista de pagos",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Pago"
                  }
                }
              }
            }
          },
          "401": {
            "description": "No autorizado"
          },
          "404": {
            "description": "No se encontraron pagos"
          }
        }
      },
      "post": {
        "summary": "Crear un nuevo pago",
        "tags": [
          "Pagos"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Pago"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Pago creado",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "insertId": {
                      "type": "integer",
                      "example": 15
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Datos inválidos"
          },
          "401": {
            "description": "No autorizado"
          }
        }
      }
    },
    "/api/pagos/{id}": {
      "get": {
        "summary": "Obtener un pago por ID",
        "tags": [
          "Pagos"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "integer"
            },
            "required": true,
            "description": "ID del pago"
          }
        ],
        "responses": {
          "200": {
            "description": "Pago encontrado",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Pago"
                }
              }
            }
          },
          "401": {
            "description": "No autorizado"
          },
          "404": {
            "description": "Pago no encontrado"
          }
        }
      },
      "put": {
        "summary": "Actualizar un pago",
        "tags": [
          "Pagos"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "integer"
            },
            "required": true,
            "description": "ID del pago a actualizar"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Pago"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Pago actualizado",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Pago actualizado exitosamente."
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Datos inválidos"
          },
          "401": {
            "description": "No autorizado"
          },
          "404": {
            "description": "Pago no encontrado"
          }
        }
      },
      "delete": {
        "summary": "Eliminar un pago",
        "tags": [
          "Pagos"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "integer"
            },
            "required": true,
            "description": "ID del pago a eliminar"
          }
        ],
        "responses": {
          "200": {
            "description": "Pago eliminado",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Pago eliminado exitosamente."
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "No autorizado"
          },
          "404": {
            "description": "Pago no encontrado"
          }
        }
      }
    },
    "/api/productos": {
      "get": {
        "summary": "Obtener todos los productos",
        "tags": [
          "Productos"
        ],
        "responses": {
          "200": {
            "description": "Lista de productos",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Producto"
                  }
                }
              }
            }
          },
          "404": {
            "description": "No se encontraron productos"
          }
        }
      },
      "post": {
        "summary": "Crear un nuevo producto",
        "tags": [
          "Productos"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Producto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Producto creado",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "insertId": {
                      "type": "integer",
                      "example": 5
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Error en los datos proporcionados"
          },
          "409": {
            "description": "El producto ya existe"
          }
        }
      }
    },
    "/api/productos/{id}": {
      "get": {
        "summary": "Obtener un producto por ID",
        "tags": [
          "Productos"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "integer"
            },
            "required": true,
            "description": "ID del producto"
          }
        ],
        "responses": {
          "200": {
            "description": "Producto encontrado",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Producto"
                }
              }
            }
          },
          "404": {
            "description": "Producto no encontrado"
          }
        }
      },
      "put": {
        "summary": "Actualizar un producto",
        "tags": [
          "Productos"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "integer"
            },
            "required": true,
            "description": "ID del producto a actualizar"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Producto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Producto actualizado",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Producto actualizado exitosamente."
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Producto no encontrado"
          }
        }
      },
      "delete": {
        "summary": "Eliminar un producto",
        "tags": [
          "Productos"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "integer"
            },
            "required": true,
            "description": "ID del producto a eliminar"
          }
        ],
        "responses": {
          "200": {
            "description": "Producto eliminado",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Producto eliminado exitosamente."
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Producto no encontrado"
          }
        }
      }
    },
    "/api/productos/reserva/{reserva_id}": {
      "get": {
        "summary": "Obtener productos por ID de reserva",
        "tags": [
          "Productos"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "reserva_id",
            "schema": {
              "type": "integer"
            },
            "required": true,
            "description": "ID de la reserva"
          }
        ],
        "responses": {
          "200": {
            "description": "Lista de productos asociados a la reserva",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Producto"
                  }
                }
              }
            }
          },
          "404": {
            "description": "No se encontraron productos para esta reserva"
          }
        }
      }
    },
    "/api/productos/{id}/stock": {
      "patch": {
        "summary": "Actualizar stock de un producto",
        "tags": [
          "Productos"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "integer"
            },
            "required": true,
            "description": "ID del producto"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "cantidad": {
                    "type": "integer",
                    "example": 10
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Stock actualizado",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Cantidad de productos actualizada exitosamente."
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Producto no encontrado"
          }
        }
      }
    },
    "/api/productos/{id}/estado": {
      "patch": {
        "summary": "Actualizar estado de reserva de un producto",
        "tags": [
          "Productos"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "integer"
            },
            "required": true,
            "description": "ID del producto"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "estado_reserva": {
                    "type": "string",
                    "enum": [
                      "disponible",
                      "reservado",
                      "agotado"
                    ],
                    "example": "reservado"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Estado actualizado",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Estado de reserva actualizado exitosamente."
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Producto no encontrado"
          }
        }
      }
    },
    "/api/reservas": {
      "get": {
        "summary": "Obtener todas las reservas",
        "tags": [
          "Reservas"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Lista de reservas",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Reserva"
                  }
                }
              }
            }
          },
          "401": {
            "description": "No autorizado"
          },
          "404": {
            "description": "No se encontraron reservas"
          }
        }
      },
      "post": {
        "summary": "Crear una nueva reserva",
        "tags": [
          "Reservas"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Reserva"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Reserva creada",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "insertId": {
                      "type": "integer",
                      "example": 15
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Datos inválidos"
          },
          "401": {
            "description": "No autorizado"
          }
        }
      }
    },
    "/api/reservas/{id}": {
      "get": {
        "summary": "Obtener una reserva por ID",
        "tags": [
          "Reservas"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "integer"
            },
            "required": true,
            "description": "ID de la reserva"
          }
        ],
        "responses": {
          "200": {
            "description": "Reserva encontrada",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Reserva"
                }
              }
            }
          },
          "401": {
            "description": "No autorizado"
          },
          "404": {
            "description": "Reserva no encontrada"
          }
        }
      },
      "put": {
        "summary": "Actualizar una reserva",
        "tags": [
          "Reservas"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "integer"
            },
            "required": true,
            "description": "ID de la reserva a actualizar"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Reserva"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Reserva actualizada",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Reserva actualizada exitosamente."
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Datos inválidos"
          },
          "401": {
            "description": "No autorizado"
          },
          "404": {
            "description": "Reserva no encontrada"
          }
        }
      },
      "delete": {
        "summary": "Eliminar una reserva",
        "tags": [
          "Reservas"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "integer"
            },
            "required": true,
            "description": "ID de la reserva a eliminar"
          }
        ],
        "responses": {
          "200": {
            "description": "Reserva eliminada",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Reserva eliminada exitosamente."
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "No autorizado"
          },
          "404": {
            "description": "Reserva no encontrada"
          }
        }
      }
    },
    "/api/usuarios": {
      "get": {
        "summary": "Obtener todos los usuarios",
        "tags": [
          "Usuarios"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Lista de usuarios",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Usuario"
                  }
                }
              }
            }
          },
          "401": {
            "description": "No autorizado"
          },
          "404": {
            "description": "No se encontraron usuarios"
          }
        }
      },
      "post": {
        "summary": "Crear un nuevo usuario",
        "tags": [
          "Usuarios"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Usuario"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Usuario creado exitosamente",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Usuario creado exitosamente."
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Datos inválidos"
          },
          "409": {
            "description": "El correo electrónico ya está registrado"
          }
        }
      }
    },
    "/api/usuarios/{id}": {
      "get": {
        "summary": "Obtener un usuario por ID",
        "tags": [
          "Usuarios"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "integer"
            },
            "required": true,
            "description": "ID del usuario"
          }
        ],
        "responses": {
          "200": {
            "description": "Usuario encontrado",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Usuario"
                }
              }
            }
          },
          "401": {
            "description": "No autorizado"
          },
          "404": {
            "description": "Usuario no encontrado"
          }
        }
      }
    },
    "/api/usuarios/{email}": {
      "put": {
        "summary": "Actualizar un usuario",
        "tags": [
          "Usuarios"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "email",
            "schema": {
              "type": "string",
              "format": "email"
            },
            "required": true,
            "description": "Email del usuario a actualizar"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Usuario"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Usuario actualizado",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Usuario actualizado exitosamente."
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "No autorizado"
          },
          "404": {
            "description": "Usuario no encontrado"
          }
        }
      },
      "delete": {
        "summary": "Eliminar un usuario",
        "tags": [
          "Usuarios"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "email",
            "schema": {
              "type": "string",
              "format": "email"
            },
            "required": true,
            "description": "Email del usuario a eliminar"
          }
        ],
        "responses": {
          "200": {
            "description": "Usuario eliminado",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Usuario eliminado exitosamente."
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "No autorizado"
          },
          "404": {
            "description": "Usuario no encontrado"
          }
        }
      }
    },
    "/api/usuarios/desactivar": {
      "post": {
        "summary": "Desactivar un usuario (solo admin)",
        "tags": [
          "Usuarios"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "email": {
                    "type": "string",
                    "format": "email",
                    "example": "admin@example.com"
                  },
                  "contraseña": {
                    "type": "string",
                    "format": "password",
                    "example": "admin123"
                  },
                  "email_modificar": {
                    "type": "string",
                    "format": "email",
                    "example": "usuario@example.com"
                  },
                  "estado": {
                    "type": "string",
                    "enum": [
                      "Activo",
                      "Inactivo"
                    ],
                    "example": "Inactivo"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Estado del usuario actualizado",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Usuario usuario@example.com actualizado exitosamente."
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "No autorizado o credenciales incorrectas"
          },
          "403": {
            "description": "Usuario no tiene permisos de administrador"
          },
          "404": {
            "description": "Usuario no encontrado"
          }
        }
      }
    }
  },
  "tags": [
    {
      "name": "Blog",
      "description": "Gestión de entradas del blog"
    },
    {
      "name": "Envíos",
      "description": "Gestión de envíos de productos"
    },
    {
      "name": "Pagos",
      "description": "Gestión de pagos del sistema"
    },
    {
      "name": "Productos",
      "description": "Operaciones relacionadas con productos"
    },
    {
      "name": "Reservas",
      "description": "Gestión de reservas de productos"
    },
    {
      "name": "Usuarios",
      "description": "Gestión de usuarios del sistema"
    }
  ]
}